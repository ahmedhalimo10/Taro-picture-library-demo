{"version":3,"file":"pages/index/index.js","sources":["webpack:///./src/pages/index/index.vue?1497","webpack:///._src_pages_component_infiniteloading.vue","webpack:///._src_pages_index_index.vue","webpack:///./src/pages/component/infiniteloading.vue?b92a","webpack:///./src/pages/index/index.vue?89b9","webpack:///./src/pages/component/infiniteloading.vue?9087","webpack:///./src/pages/component/infiniteloading.vue?a9ae","webpack:///./src/pages/component/infiniteloading.vue?7a26","webpack:///./src/pages/component/infiniteloading.vue?8928","webpack:///./src/pages/index/index.vue?e724","webpack:///./src/pages/index/index.vue?5b58","webpack:///./src/pages/index/index.vue?4e71","webpack:///./src/pages/index/index.vue?550b"],"sourcesContent":["import { render } from \"./index.vue?vue&type=template&id=1badc801\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=1badc801&lang=scss\"\nscript.render = render\n/* hot reload */\nif (module.hot) {\n  script.__hmrId = \"1badc801\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('1badc801', script)) {\n    api.reload('1badc801', script)\n  }\n  \n  module.hot.accept(\"./index.vue?vue&type=template&id=1badc801\", () => {\n    api.rerender('1badc801', render)\n  })\n\n}\n\nscript.__file = \"src/pages/index/index.vue\"\n\nexport default script","<template>\r\n  <view class=\"index\">\r\n    <view v-if=\"loading\">\r\n      <nut-button loading>加载中</nut-button>\r\n    </view>\r\n    <view v-else>\r\n      <view class=\"infiniteUl\" id=\"scrollDemo\">\r\n         <nut-infiniteloading\r\n          pull-icon=\"JD\"\r\n          load-txt=\"loading\"\r\n          load-more-txt=\"没有啦～\"\r\n          :is-open-refresh=\"true\"\r\n          container-id=\"scrollDemo\"\r\n          :has-more=\"hasMore\"\r\n          @load-more=\"loadMore\"\r\n         >\r\n      <view class=\"infiniteLi\" v-for=\"(item, index) in picture\" :key=\"index\">\r\n        <img\r\n          :src=\"`https://picsum.photos/id/${item.id}/200`\"\r\n          @click=\"toDetail(index)\"\r\n          class=\"resize\"\r\n        /> \r\n        <view>{{ index + \"-\" + item.author }}</view>\r\n      </view>\r\n       </nut-infiniteloading>\r\n      </view>\r\n\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nimport { ref, computed, onMounted } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nimport Taro from \"@tarojs/taro\";\r\nexport default {\r\n  name: \"Index\",\r\n  components: {},\r\n  setup() {\r\n    Taro.pxTransform(10);\r\n    const store = useStore();\r\n    const loading = ref(false);\r\n    const page = ref(1);\r\n    const hasMore = ref(true);\r\n    const picture = computed(() => store.state.pictures);\r\n    const loadMore = async (done) => {\r\n      setTimeout(() => {\r\n      loading.value = true;\r\n      console.log(\"触发\")\r\n      try {\r\n        const res = store.dispatch(\"LOAD_PICTURE_MUTATIONS\", {page : page.value});    \r\n        page.value++;\r\n        done();\r\n      } catch (error) {\r\n        console.log(error);\r\n      } finally {\r\n        loading.value = false;\r\n      }\r\n     }, 500);\r\n    };\r\n    const toDetail = (id) => {\r\n      if (id != null) {\r\n        Taro.navigateTo({\r\n          url: `/pages/detail/index?id=${id}`,\r\n        });\r\n      }\r\n    };\r\n    onMounted(() => {\r\n      loadMore();\r\n    });\r\n    return {\r\n      loading,\r\n      picture,\r\n      toDetail,\r\n      loadMore,\r\n      hasMore\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n    .infiniteUl{\r\n      height: 600px;\r\n      width: 375px;\r\n      overflow-y:auto;\r\n      overflow-x:hidden;\r\n    }\r\n    .infiniteLi{\r\n      margin-top:10px;\r\n      font-size: 14px;\r\n      color: rgba(100,100,100,1);\r\n      text-align: center;\r\n    }\r\n    .loading{\r\n      display: block;\r\n      width: 100%;\r\n      text-align: center;\r\n    }\r\n     .resize{\r\n        max-width: 100%;\r\n        height: 300px;\r\n        width: 95%;\r\n        margin: 10px;\r\n        border-radius: 8px;\r\n        box-shadow: 0 13px 27px -5px hsl(240deg 30% 28% / 25%), 0 8px 16px -8px hsl(0deg 0% 0% / 30%), 0 -6px 16px -6px hsl(0deg 0% 0% / 3%);\r\n    }\r\n</style>\r\n","<template>\n  <view class=\"index\">\n    <view v-if=\"loading\">\n      <nut-button loading>加载中</nut-button>\n    </view>\n    <view v-else>\n      <component-a></component-a>\n    </view>\n  </view>\n</template>\n\n<script>\nimport ComponentA from \"../component/infiniteloading.vue\";\nexport default {\n  name: \"Index\",\n  components: { \"component-a\": ComponentA },\n};\n</script>\n\n<style lang=\"scss\">\n.index {\n  font-family: \"Avenir\", Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n}\n</style>\n","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import { render } from \"./infiniteloading.vue?vue&type=template&id=10ea1a7c\"\nimport script from \"./infiniteloading.vue?vue&type=script&lang=js\"\nexport * from \"./infiniteloading.vue?vue&type=script&lang=js\"\n\nimport \"./infiniteloading.vue?vue&type=style&index=0&id=10ea1a7c&lang=scss\"\nscript.render = render\n/* hot reload */\nif (module.hot) {\n  script.__hmrId = \"10ea1a7c\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('10ea1a7c', script)) {\n    api.reload('10ea1a7c', script)\n  }\n  \n  module.hot.accept(\"./infiniteloading.vue?vue&type=template&id=10ea1a7c\", () => {\n    api.rerender('10ea1a7c', render)\n  })\n\n}\n\nscript.__file = \"src/pages/component/infiniteloading.vue\"\n\nexport default script","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/dist/index.js??ref--10-0!./infiniteloading.vue?vue&type=script&lang=js\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/dist/index.js??ref--10-0!./infiniteloading.vue?vue&type=script&lang=js\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js??ref--1-oneOf-0-1!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/@tarojs/mini-runner/node_modules/postcss-loader/dist/cjs.js??ref--1-oneOf-0-2!../../../node_modules/resolve-url-loader/index.js!../../../node_modules/sass-loader/dist/cjs.js??ref--1-oneOf-0-4!../../../node_modules/vue-loader/dist/index.js??ref--10-0!./infiniteloading.vue?vue&type=style&index=0&id=10ea1a7c&lang=scss\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/dist/templateLoader.js??ref--6!../../../node_modules/vue-loader/dist/index.js??ref--10-0!./infiniteloading.vue?vue&type=template&id=10ea1a7c\"","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"../../../node_modules/@tarojs/taro-loader/lib/raw.js!./index.vue\"\nvar config = {\"navigationBarTitleText\":\"首页\"};\n\n\nvar inst = Page(createPageConfig(component, 'pages/index/index', {root:{cn:[]}}, config || {}))\n\n","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/dist/index.js??ref--10-0!./index.vue?vue&type=script&lang=js\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/dist/index.js??ref--10-0!./index.vue?vue&type=script&lang=js\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js??ref--1-oneOf-0-1!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/@tarojs/mini-runner/node_modules/postcss-loader/dist/cjs.js??ref--1-oneOf-0-2!../../../node_modules/resolve-url-loader/index.js!../../../node_modules/sass-loader/dist/cjs.js??ref--1-oneOf-0-4!../../../node_modules/vue-loader/dist/index.js??ref--10-0!./index.vue?vue&type=style&index=0&id=1badc801&lang=scss\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/dist/templateLoader.js??ref--6!../../../node_modules/vue-loader/dist/index.js??ref--10-0!./index.vue?vue&type=template&id=1badc801\""],"mappings":";;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAYA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;ACSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAcA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AA1CA;;;;;;;;;;;;;ACvBA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAFA;;;;;;;;;;;;;;;;;;ADZA;;;;;;AAEA;AACA;;;;;AAEA;AAAA;;;;;;;AALA;AAEA;AAAA;AAAA;AAAA;AAAA;;;;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AAUA;AARA;AAAA;AAAA;AAAA;AAAA;AAOA;AALA;AACA;AAAA;AAAA;AACA;AACA;;AAJA;AAKA;AAAA;AACA;;AAPA;AAAA;;;;AATA;;AAAA;;;;;;;;;;;;;;;;;;ACNA;;;;;;AAEA;AACA;;;;;;;;;AAHA;AAEA;AAAA;AAAA;AAAA;AAAA;;;;AAAA;;;;;;;;;;;;ACHA;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAYA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACvBA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;;;;;;;;;;;;;;ACAA;AAAA;AAAA;;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACNA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;;;;;;;;;;;;;;ACAA;AAAA;AAAA;;;;;A","sourceRoot":""}